<!DOCTYPE html>
<html lang="en">

<head>
    <title>My BCIT Project</title>
    <meta name="comp1800 template" content="My 1800 App">

    <!------------------------>
    <!-- Required meta tags -->
    <!------------------------>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!------------------------------------------>
    <!-- Bootstrap Library CSS JS CDN go here -->
    <!------------------------------------------>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous">
    </script>

    <!-------------------------------------------------------->
    <!-- Firebase 8 Library related CSS, JS, JQuery go here -->
    <!-------------------------------------------------------->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.js"></script>
    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.css" />

    <!-------------------------------------------->
    <!-- Other libraries and styles of your own -->
    <!-------------------------------------------->
    <!-- <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> -->
    <!-- <link rel="stylesheet" href="./styles/style.css"> -->

</head>

<body>
    <!-- Templates for general use, not displayed -->
    <template id="hikeCardTemplate">
        <div class="card py-2 mx-2" style="width: 18rem;">
            <img class="card-image card-img-top" src=" ..." alt="...">
            <div class="card-body">
                <h5 class="card-title">Card title</h5>
                <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                    card's content.</p>
                <a class="btn btn-primary card-href">Get Details</a>
            </div>
        </div>
    </template>
    <!------------------------------>
    <!-- Your HTML Layout go here -->
    <!------------------------------>

    <!--Bootsrap dropdown menu-->
    <!-- <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
            data-bs-toggle="dropdown" aria-expanded="false">
            Dropdown button
        </button>
        <ul id="demolist" class="dropdown-menu" aria-labelledby="dropdownMenuButton1" id="test">
            <li><a class="dropdown-item" href="#">Action</a></li>
            <li><a class="dropdown-item" href="#">Another action</a></li>
            <li><a class="dropdown-item" href="#">Something else here</a></li> 
        </ul>
    </div> -->

    <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdown2" data-bs-toggle="dropdown"
            aria-expanded="false">
            Dropdown button
        </button>
        <ul id="list-goes-here" class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
        </ul>
    </div>

    <!------------ template -->
    <template id="dropdownItemTemplate">
        <li><a class="dropdown-item" href="#">Item</a></li>
    </template>

    <!---------------------------------------------->
    <!-- Your own JavaScript functions go here    -->
    <!---------------------------------------------->
    <script src="./scripts/firebaseAPI_TEAM99.js"></script>
    <script src="./scripts/skeleton.js"></script>

    <script>
        function createData() {
            // Add a new document with a generated id.
            db.collection("cities").add({
                    name: "Tokyo",
                    country: "Japan"
                })
                .then((docRef) => {
                    console.log("Document written with ID: ", docRef.id);
                })
                .catch((error) => {
                    console.error("Error adding document: ", error);
                });
                db.collection("cities").add({
                    name: "Paris",
                    country: "France"
                })
                .then((docRef) => {
                    console.log("Document written with ID: ", docRef.id);
                })
                .catch((error) => {
                    console.error("Error adding document: ", error);
                });
                db.collection("cities").add({
                    name: "Saigon",
                    country: "Vietnam"
                })
                .then((docRef) => {
                    console.log("Document written with ID: ", docRef.id);
                })
                .catch((error) => {
                    console.error("Error adding document: ", error);
                });
        }
        //For dropdown bootstrap to show the choice in the Button after selection
        // function createDropdown() {
        //     db.collection("cities").get().then(function (snap) {
        //         snap.forEach(function (doc) {
        //             console.log(doc.data().name);
        //             var name = doc.data().name;
        //             let newitem = document.getElementById("dropdownItemTemplate")
        //                                   .content.cloneNode(true)
        //             newitem.querySelector("a").innerHTML = name;
        //             document.getElementById("list-goes-here").appendChild(newitem);
        //         })
        //     })
        // }
        // createDropdown();

        function createDropdown() {
            db.collection("cities").get().then(function (snap) {
                snap.forEach(function (doc) {
                    console.log(doc.data().name);
                    var name = doc.data().name;
                    let newitem = document.createElement("a")
                    newitem.querySelector("a").innerHTML = name;
                    document.getElementById("list-goes-here").appendChild(newitem);
                })
            })
        }
        createDropdown();
 
    </script>

</body>

</html>